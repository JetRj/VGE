<!DOCTYPE html>
<html lang="en">
<head>
  <!-- Use correct character set. -->
  <meta charset="utf-8">
  <!-- Tell IE to use the latest, best version. -->
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <!-- Make the application on mobile take up the full browser screen and disable user scaling. -->
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, minimum-scale=1, user-scalable=no">
  <!--edit By Xiao Ling @2017/8/23-->
  <meta name="theme-color" content="#333333">
  <!--edit By Xiao Ling @2017/8/23-->
  <meta name="apple-mobile-web-app-capable" content="yes">

    <link href='http://fonts.googleapis.com/css?family=Open+Sans:400,300,600,700' rel='stylesheet' type='text/css'>

    <link rel="stylesheet" href="assets/css/reset.css"> <!-- CSS reset -->
    <link rel="stylesheet" href="assets/css/style.css"> <!-- Resource style -->
    <script src="assets/js/modernizr.js"></script> <!-- Modernizr -->
  <title>Hello World!</title>

  <script src="CesiumSource/Build/Cesium/Cesium.js"></script>
  <style>
      @import url(CesiumSource/Build/Cesium/Widgets/widgets.css);
      html, body, #cesiumContainer {
          width: 100%; height: 100%; margin: 0; padding: 0; overflow: hidden;
      }
      #draggable1 { position: absolute; top: 50px; right: 5px; width: 150px; height: 450px; padding: 0.5em;border: 1px; border-color: red; border-style: solid; background: rgba(42, 42, 42, 0.5); border-radius: 5px; color: #fff; line-height: 150%; z-index: 1;}
      .toolbar-left {
        display: block;
        position: absolute;
        top: 5px;
        left: 5px;
        z-index: 1;
      }
	  .cesium-widget-credits {
　　display: none!important;
　　visibility: hidden!important;
}
     
  </style>
  <link rel="shortcut icon" href="http://pic.nypl.org/nypl.png">
  <link rel="stylesheet" media="all" href="assets/css/application-9cb34b2ead8ea0abe4d3a29d4dcb6003e6178afb76cf6afb.css" data-turbolinks-track="true">
  <link rel="stylesheet" media="all" href="assets/css/pic-3abd8b238d2b609dbf5d134fb8e9a19a5daf6dbdbee75eb371490625.css" />
  
  <script src="https://code.jquery.com/jquery-1.12.4.js"></script>
  <script src="https://code.jquery.com/ui/1.12.1/jquery-ui.js"></script>
  <script src="assets/js/jquery-1.12.0.js"></script>
  <script src = "assets/js/dat.gui.min.js"></script>
  <script src="assets/js/test-gui.js"></script>
  <script src="assets/js/PositionPick.js"></script>
  <script src="assets/js/settingFunc.js"></script>
</head>
<!--<body onload="position();">-->
<body>
  <header>
  <a id="nypl" href="http://www.scet.com.cn/" target="_blank">Z</a><a href="http://nypl.org/" target="_blank">中联兴环保科技有限公司</a>&nbsp;&nbsp;/&nbsp;&nbsp;<a href="http://pic.nypl.org/" data-no-turbolink="">青海甘河园区环境污染可视化</a>&nbsp;&nbsp;/&nbsp;&nbsp;Map<a class="map-help-link" href="#">Help</a>

</header>

  <!--edited By Xiao Ling @2017/8/27-->
  <!--<div id="cesiumContainer" class="fullSize">
  
	<div id="geoPosition" style="z-index:10; position:absolute; bottom:45px; right:0px; visibility:visible;">
        <label style="color:#fff; font-size:20px; font-family:SimHei;">经度：</label><input type="text" id="longitude" style="width:130px; border:none; font-family:SimHei; background-color:transparent; color:#fff; font-size:1.2em" readonly>
        <label style="color:#fff; font-size:20px; font-family:SimHei;">纬度：</label><input type="text" id="latitude" style="width:130px; border:none; font-family:SimHei; background-color:transparent; color:#fff; font-size:1.2em" readonly>
        <label style="color:#fff; font-size:20px; font-family:SimHei;">视野高度：</label><input type="text" id="height" style="width:130px; border:none; font-family:SimHei; background-color:transparent; color:#fff; font-size:1.2em" readonly>
    </div>-->
  <!--edited By Xiao Ling @2017/8/27-->
   <div id="cesiumContainer" style="left: calc(20% + 30%); width: calc(100% - (20% + 30%));" class=""></div>
  <div class="cd-main-content">
      <div class="cd-tab-filter-wrapper">
          <div class="cd-tab-filter">
              <ul class="cd-filters">
                  <li class="placeholder">
                      <a data-type="all" href="#0">All</a> <!-- selected option on mobile -->
                  </li>
                  <li class="filter"><a class="selected" href="#0" data-type="all">All</a></li>
                  <li class="filter" data-filter=".color-1"><a href="#0" data-type="color-1">Color 1</a></li>
                  <li class="filter" data-filter=".color-2"><a href="#0" data-type="color-2">Color 2</a></li>
              </ul> <!-- cd-filters -->
          </div> <!-- cd-tab-filter -->
      </div> <!-- cd-tab-filter-wrapper -->

      <section class="cd-gallery">
          <ul>
              <li class="mix color-1 check1 radio2 option3" ><img src="img/img-1.jpg" alt="Image 1"></li>
              <li class="mix color-2 check2 radio2 option2" ><img src="img/img-2.jpg" alt="Image 2"></li>
              <li class="mix color-1 check3 radio3 option1" ><img src="img/img-3.jpg" alt="Image 3"></li>
              <li class="mix color-1 check3 radio2 option4" ><img src="img/img-4.jpg" alt="Image 4"></li>
              <li class="mix color-1 check1 radio3 option2" ><img src="img/img-5.jpg" alt="Image 5"></li>
              <li class="mix color-2 check2 radio3 option3" ><img src="img/img-6.jpg" alt="Image 6"></li>
              <li class="mix color-2 check2 radio2 option1" ><img src="img/img-7.jpg" alt="Image 7"></li>
              <li class="mix color-1 check1 radio3 option4" ><img src="img/img-8.jpg" alt="Image 8"></li>
              <li class="mix color-2 check1 radio2 option3" ><img src="img/img-9.jpg" alt="Image 9"></li>
              <li class="mix color-1 check3 radio2 option4" ><img src="img/img-10.jpg" alt="Image 10"></li>
              <li class="mix color-1 check3 radio3 option2" ><img src="img/img-11.jpg" alt="Image 11"></li>
              <li class="mix color-2 check1 radio3 option1" ><img src="img/img-12.jpg" alt="Image 12"></li>
              <li class="gap"></li>
              <li class="gap"></li>
              <li class="gap"></li>
          </ul>
          <div class="cd-fail-message">No results found</div>
      </section> <!-- cd-gallery -->

      <div class="cd-filter">
          <form>
              <div class="cd-filter-block">
                  <h4>Search</h4>

                  <div class="cd-filter-content">
                      <input type="search" placeholder="Try color-1...">
                  </div> <!-- cd-filter-content -->
              </div> <!-- cd-filter-block -->

              <div class="cd-filter-block">
                  <h4>Check boxes</h4>

                  <ul class="cd-filter-content cd-filters list">
                      <li>
                          <input class="filter" data-filter=".check1" type="checkbox" id="checkbox1">
                          <label class="checkbox-label" for="checkbox1">Option 1</label>
                      </li>

                      <li>
                          <input class="filter" data-filter=".check2" type="checkbox" id="checkbox2">
                          <label class="checkbox-label" for="checkbox2">Option 2</label>
                      </li>

                      <li>
                          <input class="filter" data-filter=".check3" type="checkbox" id="checkbox3">
                          <label class="checkbox-label" for="checkbox3">Option 3</label>
                      </li>
                  </ul> <!-- cd-filter-content -->
              </div> <!-- cd-filter-block -->

              <div class="cd-filter-block">
                  <h4>Select</h4>

                  <div class="cd-filter-content">
                      <div class="cd-select cd-filters">
                          <select class="filter" name="selectThis" id="selectThis">
                              <option value="">Choose an option</option>
                              <option value=".option1">Option 1</option>
                              <option value=".option2">Option 2</option>
                              <option value=".option3">Option 3</option>
                              <option value=".option4">Option 4</option>
                          </select>
                      </div> <!-- cd-select -->
                  </div> <!-- cd-filter-content -->
              </div> <!-- cd-filter-block -->

              <div class="cd-filter-block">
                  <h4>Radio buttons</h4>

                  <ul class="cd-filter-content cd-filters list">
                      <li>
                          <input class="filter" data-filter="" type="radio" name="radioButton" id="radio1" checked>
                          <label class="radio-label" for="radio1">All</label>
                      </li>

                      <li>
                          <input class="filter" data-filter=".radio2" type="radio" name="radioButton" id="radio2">
                          <label class="radio-label" for="radio2">Choice 2</label>
                      </li>

                      <li>
                          <input class="filter" data-filter=".radio3" type="radio" name="radioButton" id="radio3">
                          <label class="radio-label" for="radio3">Choice 3</label>
                      </li>
                  </ul> <!-- cd-filter-content -->
              </div> <!-- cd-filter-block -->
          </form>

          <a href="#0" class="cd-close">Close</a>
      </div> <!-- cd-filter -->

      <a href="#0" class="cd-filter-trigger">Filters</a>
  </div> <!-- cd-main-content -->

	
	<!---------------------------------------------------------------------------------------->
  <!--<div id="gui" z-index="2"></div>-->
  <script src="assets/js/jquery-2.1.1.js"></script>
  <script src="assets/js/jquery.mixitup.min.js"></script>
  <script src="assets/js/main.js"></script> <!-- Resource jQuery -->
  <script>
  <!--edit By Xiao Ling @2017/8/27-->

   options = {positionPick:true,
              }
   
   function Core(cesiumContainer,expander, options) {
    var that = this;
	//判断Cesium是否加载
	
    if (typeof Cesium !== "object") {
        throw '需要加载Cesium';
    }
	
	if (!Cesium.defined(cesiumContainer)) {
        throw new Cesium.DeveloperError('Core()的cesiumContainer参数未设置.');
    }
	if (!Cesium.defined(expander)) {
        throw new Cesium.DeveloperError('Core的expander参数未设置.');
    }
    options = Cesium.defaultValue(options, Cesium.defaultValue.EMPTY_OBJECT);
	
    
	var viewer = new Cesium.Viewer(cesiumContainer);
	viewer._cesiumWidget._creditContainer.style.display="none"; 
    var options1 = {
        camera : viewer.scene.camera,
        canvas : viewer.scene.canvas
    };
    var extent = Cesium.Rectangle.fromDegrees(101.432053, 36.403152,102.101701, 36.96018);
    Cesium.Camera.DEFAULT_VIEW_RECTANGLE = extent;
    Cesium.Camera.DEFAULT_VIEW_FACTOR = 0;
    viewer.dataSources.add(Cesium.KmlDataSource.load('zlx0.kml', options1));
    viewer.dataSources.add(Cesium.KmlDataSource.load('zlx1.kml', options1));
    viewer.camera.setView({
        destination: extent
    });
	//申明positionPick的属性值，如为True，则执行Position控件代码
	//下一步的计划是用Hogan的template控制positionPick控件，使之与屏幕解耦合
	that.positionPick = Cesium.defaultValue(options.positionPick, false);
	if(that.positionPick){
	position(viewer);}
	console.log("ok")
	//这一部分为地图提供商
    Cesium.BingMapsApi.defaultKey = 'AiJl-bPJBWlZ62fE-RhzcGKAgVb3dMWMFa5zm5PxmPArR7IXEhjSj5exL1tQ8j02';

    var defaultBaseMaps = []; //setting up the array to pack with basemaps

    defaultBaseMaps.push(new Cesium.ProviderViewModel({
        name: 'Bing Maps with Labels',
        iconUrl: Cesium.buildModuleUrl('Widgets/Images/ImageryProviders/bingAerialLabels.png'),
        tooltip: 'Bing Maps aerial imagery with label overlays \nhttp://www.bing.com/maps',
        creationFunction: function () {
            return new Cesium.BingMapsImageryProvider({
                url: '//dev.virtualearth.net',
                mapStyle: Cesium.BingMapsStyle.AERIAL_WITH_LABELS
            });
        }
    }));

    defaultBaseMaps.push(new Cesium.ProviderViewModel({
        name: 'Bing Maps',
        iconUrl: Cesium.buildModuleUrl('Widgets/Images/ImageryProviders/bingAerial.png'),
        tooltip: 'Bing Maps aerial imagery \nhttp://www.bing.com/maps',
        creationFunction: function () {
            return new Cesium.BingMapsImageryProvider({
                url: '//dev.virtualearth.net',
                mapStyle: Cesium.BingMapsStyle.AERIAL
            });
        }
    }));
}
 core = new Core('cesiumContainer','#gui', options); 
	
  </script>

</body>
</html>
